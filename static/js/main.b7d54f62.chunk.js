(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{153:function(e,t,a){e.exports=a(346)},158:function(e,t,a){},159:function(e,t,a){},346:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(13),o=a.n(s),c=(a(158),a(159),a(23)),i=a(142),u=a(3),l=a.n(u),m=a(348),d=a(349),f=a(350),h=a(46),p=a.n(h),b=a(143),g=a(144),E=function(){function e(t,a,n,r){Object(b.a)(this,e),this.timestamp=t,this.game=a,this.revenue=n,this.impressions=r,this._timestamp=new Date(this.timestamp).getTime(),this._momentTime=new l.a(this._timestamp)}return Object(g.a)(e,[{key:"getECPM",value:function(){return 1e3*this.revenue/this.impressions}}],[{key:"fromArray",value:function(t){return t.map(function(t){return new e(t.timestamp,t.game,t.revenue,t.impressions)})}}]),e}(),v=function(){return fetch("https://www.mocky.io/v2/5cd04a20320000442200fc10").then(function(e){return e.json()}).then(function(e){return E.fromArray(e)})},w=a(145),O=function(e){var t=e.stats,a=Object(n.useMemo)(function(){return t?{labels:t.map(function(e){return e.timestamp}),datasets:[{label:"Game Stats",fill:!1,borderColor:"rgba(75,192,192,1)",data:t.map(function(e){return e.getECPM()})}]}:null},[t]);return a?t.length?r.a.createElement("div",{style:{marginLeft:"-20px"}},r.a.createElement(w.a,{options:{maintainAspectRatio:!1,legend:null},height:350,data:a})):"No matched data":null},_=a(152),D=[{id:"timestamp",Header:"Timestamp",accessor:function(e){return e._momentTime.format("YYYY-MM-DD")},sortMethod:function(e,t){return new Date(e).getTime()>new Date(t).getTime()?1:-1}},{Header:"Game",accessor:"game"},{Header:"Revenue",accessor:"revenue"},{Header:"Impressions",accessor:"impressions"},{id:"eCPM",Header:"eCPM",accessor:function(e){return e.getECPM()}}],j=function(e){return r.a.createElement(_.a,{noDataText:"No Matched Data",minRows:1,defaultPageSize:5,pageSizeOptions:[5,10],data:e.stats||[],columns:D,defaultSorted:[{id:"timestamp",desc:!1}]})},S=a(147),M=a(45),y=function(){var e=Object(n.useState)((new l.a).subtract(365,"days")),t=Object(c.a)(e,2),a=t[0],s=t[1],o=Object(n.useState)(new l.a),u=Object(c.a)(o,2),h=u[0],b=u[1],g=Object(n.useState)(null),E=Object(c.a)(g,2),w=E[0],_=E[1],D=Object(n.useState)(null),y=Object(c.a)(D,2),T=y[0],C=y[1],k=Object(n.useState)(!1),Y=Object(c.a)(k,2),N=Y[0],P=Y[1],R=Object(n.useState)(null),A=Object(c.a)(R,2),F=A[0],H=A[1];return Object(n.useEffect)(function(){var e=setTimeout(function(){M.b.info("Slow! request is not completed within ".concat(200,"ms"))},200);P(!0),v().then(function(e){C(e)}).catch(function(e){console.log(e);var t=e.message;M.b.error("".concat(t||"Failed to load data"))}).finally(function(){P(!1),clearTimeout(e)})},[]),Object(n.useEffect)(function(){if(T){var e=T.filter(function(e){return e._momentTime.isBetween(a,h)});H(e||[])}},[T,a,h]),N?r.a.createElement("div",{className:"fullScreenSpinner"},r.a.createElement(S.ClipLoader,{size:150})):r.a.createElement(m.a,{className:p.a.dashbaord},r.a.createElement("h2",{className:p.a.header},"Game Stats"),r.a.createElement("div",null,r.a.createElement(d.a,null,r.a.createElement(f.a,null,"Select Date Range"),r.a.createElement("div",null,r.a.createElement(i.DateRangePicker,{displayFormat:"DD/MM/YYYY",numberOfMonths:1,startDate:a,isOutsideRange:function(){return!1},isDayBlocked:function(e){return e.valueOf()>Date.now()},startDateId:"game_date_range_start_date",endDate:h,endDateId:"game_date_range_end_date",onDatesChange:function(e){var t=e.startDate,a=e.endDate;s(t),b(a)},focusedInput:w,onFocusChange:function(e){return _(e)}})))),r.a.createElement("div",{className:p.a.section},r.a.createElement("h4",null,"Stats Charts"),r.a.createElement(O,{stats:F})),r.a.createElement("div",{className:p.a.section},r.a.createElement("h4",null,"Stats Table"),r.a.createElement(j,{stats:F})))};var T=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(y,null),r.a.createElement(M.a,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(328),a(342),a(343),a(344),a(345);o.a.render(r.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},46:function(e,t,a){e.exports={dashbaord:"dashboard_dashbaord__18YOF",header:"dashboard_header__1TAeA",section:"dashboard_section__dGash"}}},[[153,1,2]]]);
//# sourceMappingURL=main.b7d54f62.chunk.js.map